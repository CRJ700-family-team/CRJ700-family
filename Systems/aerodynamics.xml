<?xml version="1.0"?>
 <!--
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
    -->
<!-- for references, see CRJ700_jsb.xml -->
<aerodynamics>
	<!-- LIFT COEFFICIENTS -->
	<function name="aero/cl_wing">
		<table>
			<independentVar lookup="row">aero/alpha-rad</independentVar>
			<tableData><!--from the A320-family, for the moment-->
			-1.57 -1.4000
			-1.22 -1.3512
			-1.05 -1.2426
			-0.88 -1.1575
			-0.64 -1.0312
			-0.25 -0.9379
			0.00	0.3
			0.05 	0.5
			0.15	1.4
			0.20	1.56
			0.25  1.6272
			0.60  1.0305
			0.88  0.6415
			1.05  0.2294
			1.22  0.0544
			1.57  0.0000
			</tableData>
		</table>
	</function>
	<function name="aero/cl_flap">
		<product>
			<!--stub table, differences in lift per flap extension may be put here-->
			<table>
				<independentVar lookup="row">fcs/flap-pos-deg</independentVar>
				<tableData>
					0.0	0.00
					1.0	0.01
					8.0	0.08
					20.0	0.2
					30.0	0.30
					45.0	0.45
				</tableData>
			</table>
			<value>1.5</value>
		</product>
	</function>
	<function name="aero/cl_slat">
		<product>
			<!--stub table, changes to lift per flap extension may be put here-->
			<table>
				<independentVar lookup="row">fcs/slat-pos-deg</independentVar>
				<tableData>
					0.0	0.00
					20.0	0.20
					25.0	0.25
				</tableData>
			</table>
			<value>1.5</value>
		</product>
	</function>
	<function name="aero/cl_ground_spoiler">
		<product>
			<property>fcs/spoiler-ground-pos-norm</property>
			<value>-3.3</value>
		</product>
	</function>
	<function name="aero/cl_flight_spoiler">
		<product>
			<sum>
				<property>fcs/left-speedbrake-aileron-cmd-norm</property>
				<property>fcs/right-speedbrake-aileron-cmd-norm</property>
			</sum>
			<value>-0.2</value>
		</product>
	</function>
	<function name="aero/cl_pitchrate">
		<product>
			<property>velocities/q-aero-rad_sec</property>
			<property>aero/ci2vel</property>
			<value> 3.4174 </value>
		</product>
	</function>
	<function name="aero/cl_alpharate">
		<description>Lift due to alpha rate</description>
		<product>
			<property>aero/alphadot-rad_sec</property>
			<property>aero/ci2vel</property>
			<value> 1.3339 </value>
		</product>
	</function>
	<function name="aero/cl_elevator">
		<description>Lift due to Elevator Deflection</description>
		<product>
			<property>fcs/elevator-pos-rad</property>
			<value> 0.2697 </value>
		</product>
	</function>
	<axis name="LIFT">
		<!-- Lift above 0.85 and below -0.85 is generalised -->
		<function name="aero/force/Lift_alpha">
			<description>Lift due to alpha</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<!--following: Cl-->
				<sum>
					<property>aero/cl_wing</property>
					<property>aero/cl_flap</property>
					<property>aero/cl_ground_spoiler</property>
					<property>aero/cl_flight_spoiler</property>
					<property>aero/cl_pitchrate</property>
					<property>aero/cl_alpharate</property>
					<property>aero/cl_elevator</property>
				</sum>
			</product>
		</function>
	</axis>
	<!-- DRAG COEFFICIENTS -->
	<function name="aero/cd_alpha">
		<table>
			<independentVar lookup="row">aero/alpha-rad</independentVar>
			<tableData><!--from the A320-family, for the moment-->
			-1.57  1.3083
			-0.20  0.0301
				0.00  0.0000
				0.20  0.0301
				1.57  1.3083
			</tableData>
		</table>
	</function>
	<function name="aero/cd_ind">
		<description>Induced drag</description>
		<product>
			<property>aero/cl-squared</property>
			<value> 0.0501 </value>
		</product>
	</function>
	<function name="aero/cd_mach">
		<description>Drag due to mach</description>
		<table>
			<independentVar lookup="row">velocities/mach</independentVar>
			<tableData>
				0.00    0.0000
				0.79    0.0000
				1.10    0.0230
				1.80    0.0150
			</tableData>
		</table>
	</function>
	<function name="aero/cd_beta">
		<description>Drag due to sideslip</description>
		<table>
			<independentVar lookup="row">aero/beta-rad</independentVar>
			<tableData>
			-1.57    1.2300
			-0.26    0.0500
			0.00    0.0000
			0.26    0.0500
			1.57    1.2300
			</tableData>
		</table>
	</function>
	<function name="aero/cd_elevator">
		<description>Drag due to Elevator Deflection</description>
		<product>
			<abs>
				<property>fcs/elevator-pos-rad</property>
			</abs>
			<value> 0.0400 </value>
		</product>
	</function>
	<function name="aero/cd_gear">
		<description>Drag due to gear</description>
		<product>
			<property>gear/gear-pos-norm</property>
			<value> 0.0150 </value>
		</product>
	</function>
	<function name="aero/cd_flap">
		<description>Drag due to flaps</description>
		<product>
			<!--stub table, changes to drag per flap extension may be put here-->
			<table>
				<independentVar lookup="row">fcs/flap-pos-deg</independentVar>
				<tableData>
					0.0	0.00
					1.0	0.01
					8.0	0.08
					20.0	0.2
					30.0	0.30
					45.0	0.45
				</tableData>
			</table>
			<value>0.01</value>
		</product>
	</function>
	<axis name="DRAG">
		<function name="aero/force/Drag_aircraft">
			<description>Aircraft drag</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<!--following: Cd-->
				<sum>
					<value> 0.0211 </value><!--Cd0-->
					<property>aero/cd_alpha</property>
					<property>aero/cd_ind</property>
					<property>aero/cd_mach</property>
					<property>aero/cd_beta</property>
					<property>aero/cd_elevator</property>
					<property>aero/cd_gear</property>
					<property>aero/cd_flap</property>
				</sum>
			</product>
		</function>
	</axis>
	<axis name="SIDE">
		<function name="aero/force/Side_beta">
			<description>Side force due to beta</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>aero/beta-rad</property>
				<value> -0.8160 </value>
			</product>
		</function>
		<function name="aero/force/Side_roll_rate">
			<description>Side force due to roll rate</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>aero/bi2vel</property>
				<property>velocities/p-aero-rad_sec</property>
				<value>0.0073</value>
			</product>
		</function>
		<function name="aero/force/Side_yaw_rate">
			<description>Side force due to yaw rate</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>aero/bi2vel</property>
				<property>velocities/r-aero-rad_sec</property>
				<value> 0.8441 </value>
			</product>
		</function>
		<function name="aero/force/Side_rudder">
			<description>Side force due to rudder</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>fcs/rudder-pos-rad</property>
				<value> 0.2486 </value>
			</product>
		</function>
	</axis>
	<axis name="PITCH">
		<function name="aero/moment/Pitch_alpha">
			<description>Pitch moment due to alpha</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/cbarw-ft</property>
				<sum>
					<property>aero/alpha-deg</property>
					<todegrees>
						<property>/controls/flight/hstab-trim</property>
					</todegrees>
					<value>-1</value>
				</sum>
				<value> -0.03 </value>
			</product>
		</function>
		<function name="aero/moment/Pitch_elevator">
			<description>Pitch moment due to elevator</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/cbarw-ft</property>
				<property>fcs/elevator-pos-rad</property>
				<table>
					<independentVar lookup="row">velocities/mach</independentVar>
					<tableData>
					0.0    -2.0
					2.0    -0.2798
					</tableData>
				</table>
			</product>
		</function>
		<function name="aero/moment/Pitch_damp">
			<description>Pitch moment due to pitch rate</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/cbarw-ft</property>
				<property>aero/ci2vel</property>
				<property>velocities/q-aero-rad_sec</property>
				<value> -18 </value>
			</product>
		</function>
		<function name="aero/moment/Pitch_alphadot">
			<description>Pitch moment due to alpha rate</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/cbarw-ft</property>
				<property>aero/ci2vel</property>
				<property>aero/alphadot-rad_sec</property>
				<value> -7 </value>
			</product>
		</function>
	</axis>
	<axis name="ROLL">
		<function name="aero/moment/Roll_beta">
			<description>Roll moment due to beta</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/bw-ft</property>
				<property>aero/beta-rad</property>
				<property>fcs/gear-no-wow</property>
				<table>
					<independentVar>aero/alpha-rad</independentVar>
					<tableData>
						-0.0349  -0.0646
						0.3491  -0.0926
					</tableData>
				</table>
			</product>
		</function>
		<function name="aero/moment/Roll_damp">
			<description>Roll moment due to roll rate</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/bw-ft</property>
				<property>aero/bi2vel</property>
				<property>velocities/p-aero-rad_sec</property>
				<value> -0.6 </value>
			</product>
		</function>
		<function name="aero/moment/Roll_yaw">
			<description>Roll moment due to yaw rate</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/bw-ft</property>
				<property>aero/bi2vel</property>
				<property>velocities/r-aero-rad_sec</property>
				<table>
					<independentVar>aero/alpha-rad</independentVar>
					<tableData>
						-0.0349   0.0831
						0.3491   0.1375
					</tableData>
				</table>
			</product>
		</function>
		<function name="aero/moment/Roll_aileron">
			<description>Roll moment due to aileron</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/bw-ft</property>
				<property>fcs/left-aileron-pos-rad</property>
				<table>
					<independentVar lookup="row">velocities/mach</independentVar>
					<tableData>
					0.0    1.0
					2.0    0.25
					</tableData>
				</table>
				<value>0.08</value>
			</product>
		</function>
		<function name="aero/moment/Roll_rudder">
			<description>Roll moment due to rudder</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/bw-ft</property>
				<property>fcs/rudder-pos-rad</property>
				<value> 0.0100 </value>
			</product>
		</function>
		<function name="aero/moment/Roll_spoilers">
			<description>Roll moment due to differential spoilers</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/bw-ft</property>
				<difference>
					<property>fcs/right-speedbrake-aileron-cmd-norm</property>
					<property>fcs/left-speedbrake-aileron-cmd-norm</property>
				</difference>
				<table>
					<independentVar lookup="row">aero/alpha-rad</independentVar>
					<tableData>
					-0.175   0.0000
					0.0     0.0100
					0.175   0.0000
					</tableData>
				</table>
			</product>
		</function>
	</axis>
	<axis name="YAW">
		<function name="aero/moment/Yaw_beta">
			<description>Yaw moment due to beta</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/bw-ft</property>
				<property>aero/beta-rad</property>
				<value> 0.2028 </value>
			</product>
		</function>
		<function name="aero/moment/Yaw_damp">
			<description>Yaw moment due to yaw rate</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/bw-ft</property>
				<property>aero/bi2vel</property>
				<property>velocities/r-aero-rad_sec</property>
				<value> -0.2245 </value>
			</product>
		</function>
		<function name="aero/moment/Yaw_rudder">
			<description>Yaw moment due to rudder</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/bw-ft</property>
				<property>fcs/rudder-pos-rad</property>
				<value> 0.1286 </value>
			</product>
		</function>
		<function name="aero/moment/Yaw_aileron">
			<description>Adverse yaw</description>
			<product>
				<property>aero/qbar-psf</property>
				<property>metrics/Sw-sqft</property>
				<property>metrics/bw-ft</property>
				<property>fcs/left-aileron-pos-rad</property>
				<value> 0.0000 </value>
			</product>
		</function>
	</axis>
</aerodynamics>
