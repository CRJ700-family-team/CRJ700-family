<?xml version="1.0" encoding="UTF-8" ?>
<!--
	Property-rules run only at frame rate, while autopilot rules run at FDM rate.
	What is what depends on how the files are included in CRJ700-main.xml
-->
<PropertyList>
	<filter>
		<name>fuel-imbalance</name>
		<type>gain</type>
		<debug type="bool">false</debug>
		<gain>1</gain>
		<input>
			<expression>
				<abs>
					<dif>
						<property>consumables/fuel/tank[0]/level-lbs</property>
						<property>consumables/fuel/tank[1]/level-lbs</property>
					</dif>
				</abs>
			</expression>
		</input>
		<output>consumables/fuel/imbalance-lbs</output>
	</filter>
	<filter>
		<name>Left xfer valve </name>
		<type>gain</type>
		<gain>1</gain>
		<input>
			<condition>
				<and>
					<less-than>
						<property>consumables/fuel/tank[0]/level-norm</property>
						<value>0.93</value>
					</less-than>
					<greater-than>
						<property>consumables/fuel/tank[2]/level-gal_us</property>
						<property>consumables/fuel/tank[2]/unusable-gal_us</property>
					</greater-than>
				</and>
			</condition>
			<value>1</value>
		</input>		
		<input>
			<condition>
				<or>
					<greater-than>
						<property>consumables/fuel/tank[0]/level-norm</property>
						<value>0.97</value>
					</greater-than>
					<less-than-equals>
						<property>consumables/fuel/tank[2]/level-gal_us</property>
						<property>consumables/fuel/tank[2]/unusable-gal_us</property>
					</less-than-equals>
				</or>
			</condition>
			<value>0</value>
		</input>
		<input>
			<property>consumables/fuel/tank[0]/xfer-valve</property>
		</input>
		<output>consumables/fuel/tank[0]/xfer-valve</output>
	</filter>
	<filter>
		<name>Right xfer valve </name>
		<type>gain</type>
		<gain>1</gain>
		<input>
			<condition>
				<and>
					<less-than>
						<property>consumables/fuel/tank[1]/level-norm</property>
						<value>0.93</value>
					</less-than>
					<greater-than>
						<property>consumables/fuel/tank[2]/level-gal_us</property>
						<property>consumables/fuel/tank[2]/unusable-gal_us</property>
					</greater-than>
				</and>
			</condition>
			<value>1</value>
		</input>		
		<input>
			<condition>
				<or>
					<greater-than>
						<property>consumables/fuel/tank[1]/level-norm</property>
						<value>0.97</value>
					</greater-than>
					<less-than-equals>
						<property>consumables/fuel/tank[2]/level-gal_us</property>
						<property>consumables/fuel/tank[2]/unusable-gal_us</property>
					</less-than-equals>
				</or>
			</condition>
			<value>0</value>
		</input>
		<input>
			<property>consumables/fuel/tank[1]/xfer-valve</property>
		</input>
		<output>consumables/fuel/tank[1]/xfer-valve</output>
	</filter>
</PropertyList>
